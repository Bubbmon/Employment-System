# 接口文档

前后端请求接口文档。

表格下面有详细的接口，请以接口为准。



## 总体情况

|输入|输出|
|---|---|
|用户ID+密码|注册结果，一个数值，对应几种可能的情况|
|用户ID+密码|登录结果，一个数值，对应几种可能的情况，若成功就返回Token|
|用户ID，请求个人信息|返回个人信息|
|用户ID，修改后的个人信息|修改结果，一个数值，对应几种可能的情况|
|检索词和条件（均可为空）|检索结果，一个列表|
|用户ID+简历类型（这里就是唯一简历）+简历内容|上传简历是否成功，一个数值，可能对应几种可能的情况|
|用户ID+简历类型|返回该用户主页的那个简历|
|用户ID+简历类型|返回该用户投递过的简历的信息，包括投的公司、简历编号等|
|用户ID+简历类型+职位Id+简历内容|用户投给id职位的简历|
|用户ID+简历类型+职位Id+简历内容|上传简历是否成功，一个数值，对应几种可能的情况|
|用户ID+用户+查看简历状态|返回简历状态|
|HRID+HR+要发布的招聘信息|发布结果|
|HRID+HR+查看本公司招聘信息|返回有本公司所有招聘信息|
|HRID+HR+positionID+查看简历|返回所有简历列表|
|HRID+HR+positionID+用户ID|返回这个用户在这个职位上投递的简历|
|HRID+HR+positionID+用户ID+处理简历状态|处理结果|
|用户或HR的ID+请求推荐信息|返回推荐的信息列表|
|推荐的信息ID+查看信息正文|返回信息正文|
|发送者ID+发送者用户类型（HR还是普通用户）+接受者ID+时间+文本内容|发送状态|
|请求历史聊天记录+自己的ID+另一个聊天者ID|聊天记录|



## 详细情况

**招聘者注册**

方式：POST

URL： /employment/account/recruiter/signUp

请求参数：

| 名称     | 描述                   |
| -------- | ---------------------- |
| id       | 用户账号               |
| password | 密码（需要加密）       |
| name     | 姓名（5个字符以内）    |
| IDNO     | 身份证号               |
| phone    | 手机号（13个字符以内） |

返回参数：

| 名称         | 描述                                       |
| ------------ | ------------------------------------------ |
| signUpResult | 一个数值（0：注册成功；1：用户账号已存在） |



**hr注册**

方式：POST

URL：/employment/account/hr/signUp

请求参数：

| 名称           | 描述                 |
| -------------- | -------------------- |
| id             | 用户账号             |
| password       | 密码（需要加密）     |
| name           | 姓名（5个字符以内）  |
| enterpriseName | 企业名称             |
| phone          | 电话（13个字符以内） |

返回参数：

| 名称         | 描述                                       |
| ------------ | ------------------------------------------ |
| signUpResult | 一个数值（0：注册成功；1：用户账号已存在） |



**登陆**

方式：POST

URL： /employment/account/signIn

请求参数：

| 名称       | 描述                          |
| ---------- | ----------------------------- |
| id         | 用户账号                      |
| password   | 密码（需要加密）              |
| isRecuiter | 是否是招聘者（true or false） |

返回参数：

| 名称         | 描述                                                 |
| ------------ | ---------------------------------------------------- |
| signInResult | 一个数值（0：登陆成功；1：登陆失败）                 |
| token        | 用于标识已登录的用户身份，只有登陆成功才会有这个字段 |



**招聘者查询用户信息**

方式：GET

URL：/employment/userInfo/recruiter

请求参数：

返回参数：

| 名称         | 描述                                 |
| ------------ | ------------------------------------ |
| modifyResult | 修改结果（0：修改成功；1：修改失败） |



**搜索**

方式：GET

URL：/employment/search

请求参数：

| 名称     | 描述                                                         |
| -------- | ------------------------------------------------------------ |
| keyword  | 关键词                                                       |
| position | 岗位类型（0：技术；1：产品；2：设计；3：运营；4：市场；5：人事；6：财务；7：行政；8：高级管理） |
| degree   | 学历（0：不限；1：高中；2：专科；3：本科；4：硕士；5：博士） |

返回参数：是一个列表，列表里每个元素包含以下元素：

| 名称           | 描述                                                         |
| -------------- | ------------------------------------------------------------ |
| id             | 招聘信息id                                                   |
| position       | 岗位类型（0：技术；1：产品；2：设计；3：运营；4：市场；5：人事；6：财务；7：行政；8：高级管理） |
| enterpriseName | 发布公司名称                                                 |
| title          | 标题                                                         |
| salary         | 薪酬                                                         |
| degree         | 学历                                                         |
| views          | 浏览量                                                       |



**获取招聘信息详情页**

方式：GET

URL：/employment/position/{id}

请求参数：

| 名称 | 描述                       |
| ---- | -------------------------- |
| id   | 招聘信息id，**写在路径上** |

返回参数：

| 名称           | 描述                                                         |
| -------------- | ------------------------------------------------------------ |
| id             | 招聘信息id                                                   |
| position       | 岗位类型（0：技术；1：产品；2：设计；3：运营；4：市场；5：人事；6：财务；7：行政；8：高级管理） |
| enterpriseName | 发布公司名称                                                 |
| title          | 标题                                                         |
| salary         | 薪酬                                                         |
| degree         | 学历（0：不限；1：高中；2：专科；3：本科；4：硕士；5：博士） |
| views          | 浏览量                                                       |
| hrId           | 联系人id                                                     |
| hrName         | 联系人名称                                                   |
| content        | 正文                                                         |



**招聘者上传个人简历**

方式：POST

URL：/employment/account/resume

请求参数：

| 名称   | 描述           |
| ------ | -------------- |
| token  | 已登录用户标识 |
| resume | 简历内容       |

返回参数：

| 名称         | 描述                                 |
| ------------ | ------------------------------------ |
| resumeResult | 上传情况（0：上传成功；1：上传失败） |



**招聘者下载个人简历**

方式：GET

URL：/employment/account/resume

请求参数：

| 名称  | 描述           |
| ----- | -------------- |
| token | 已登录用户标识 |

返回参数：

| 名称   | 描述     |
| ------ | -------- |
| resume | 简历内容 |



**招聘者查看已经投递的简历信息**

方式：GET

URL：/employment/send/recruiter/all

请求参数：

| 名称  | 描述           |
| ----- | -------------- |
| token | 已登录用户标识 |

返回参数：

| 名称           | 描述                      |
| -------------- | ------------------------- |
| positionTitle  | 招聘信息标题              |
| enterpriseName | 招聘公司名称              |
| positionId     | 招聘信息id                |
| isDealed       | 处理状态（true or false） |



**招聘者下载已经投递的简历信息**

方式：GET

URL：/employment/send/recruiter/download

请求参数：

| 名称       | 描述           |
| ---------- | -------------- |
| token      | 已登录用户标识 |
| positionId | 招新信息id     |

返回参数：

| 名称   | 描述     |
| ------ | -------- |
| resume | 简历信息 |



**招聘者投递简历**

方式：POST

URL：/employment/send/recruiter

请求参数：

| 名称       | 描述                                                     |
| ---------- | -------------------------------------------------------- |
| token      | 已登录用户标识符                                         |
| useSelf    | 是否使用个人简历（true or false）                        |
| positionId | 招聘信息id                                               |
| resume     | 简历信息，如果useSelf为false时才需要上传新简历且必须上传 |

返回参数：

| 名称       | 描述                                 |
| ---------- | ------------------------------------ |
| sendResult | 投递结果（0：投递成功；1：投递失败） |



**hr发布招聘信息**

方式：POST

URL：/employment/position/hr

请求参数：

| 名称     | 描述                                                         |
| -------- | ------------------------------------------------------------ |
| token    | 已登录用户标识符                                             |
| position | 岗位类型（0：技术；1：产品；2：设计；3：运营；4：市场；5：人事；6：财务；7：行政；8：高级管理） |
| title    | 标题（20个字符以内）                                         |
| content  | 正文                                                         |
| salary   | 薪酬（10个字符以内）                                         |
| degree   | 学历（0：不限；1：高中；2：专科；3：本科；4：硕士；5：博士） |

返回参数：

| 名称           | 描述                                 |
| -------------- | ------------------------------------ |
| positionResult | 发布结果（0：发布成功；1：发布失败） |



**hr修改招聘信息**

方式：POST

URL：/employment/position/hr/{positionId}

请求参数：

| 名称       | 描述                                                         |
| ---------- | ------------------------------------------------------------ |
| token      | 已登录用户标识符                                             |
| positionId | 招聘信息id，**写在路径上**                                   |
| position   | 岗位类型（0：技术；1：产品；2：设计；3：运营；4：市场；5：人事；6：财务；7：行政；8：高级管理） |
| title      | 标题（20个字符以内）                                         |
| content    | 正文                                                         |
| salary     | 薪酬（10个字符以内）                                         |
| degree     | 学历（0：不限；1：高中；2：专科；3：本科；4：硕士；5：博士） |

返回参数：

| 名称           | 描述                                 |
| -------------- | ------------------------------------ |
| positionResult | 修改结果（0：修改成功；1：修改失败） |



**查看公司所有的招聘信息**

方式：GET

URL：/employment/position/enterprise/{enterpriseId}

请求参数：

| 名称         | 描述                   |
| ------------ | ---------------------- |
| enterpriseId | 公司id，**放在路径上** |

返回参数：是一个列表，列表里每个元素包含以下元素：

| 名称     | 描述                                                         |
| -------- | ------------------------------------------------------------ |
| id       | 招聘信息id                                                   |
| position | 岗位类型（0：技术；1：产品；2：设计；3：运营；4：市场；5：人事；6：财务；7：行政；8：高级管理） |
| title    | 标题                                                         |
| salary   | 薪酬                                                         |
| degree   | 学历                                                         |
| views    | 浏览量                                                       |



**hr查看某招聘位置收到的简历列表**

方式：GET

URL：/employment/send/hr/{positionId}

请求参数：

| 名称       | 描述                       |
| ---------- | -------------------------- |
| token      | 已登陆用户标识             |
| positionId | 招聘信息id，**放在路径上** |

返回参数：一个列表，列表里每个元素包含以下信息

| 名称     | 描述                      |
| -------- | ------------------------- |
| id       | 招聘者id                  |
| name     | 招聘者名称                |
| phone    | 手机号                    |
| isDealed | 处理状态（true or false） |



**hr下载简历**

方式：GET

URL：/employtment/send/hr/{positionId}/{id}

请求参数：

| 名称       | 描述                       |
| ---------- | -------------------------- |
| token      | 已登录用户标识             |
| positionId | 招聘信息id，**写在路径上** |
| id         | 用户id，**写在路径上**     |

返回参数：

| 名称   | 描述     |
| ------ | -------- |
| resume | 简历信息 |



**hr处理简历**

方式：POST

URL：/employment/send/hr/deal/{positionId}/{id}

请求参数：

| 名称       | 描述                       |
| ---------- | -------------------------- |
| token      | 已登录用户标识             |
| positionId | 招聘信息id，**写在路径上** |
| id         | 用户id，**写在路径上**     |
| isDealed   | 处理情况（true or false）  |

返回参数：

| 名称       | 描述                                 |
| ---------- | ------------------------------------ |
| dealResult | 处理结果（0：修改成功；1：修改失败） |



**推荐**

方式：GET

URL：/employment/recommend

请求参数：

| 名称  | 描述           |
| ----- | -------------- |
| token | 已登录用户标识 |

返回参数：是一个列表，列表里每个元素包含以下元素：

| 名称           | 描述                                                         |
| -------------- | ------------------------------------------------------------ |
| id             | 招聘信息id                                                   |
| position       | 岗位类型（0：技术；1：产品；2：设计；3：运营；4：市场；5：人事；6：财务；7：行政；8：高级管理） |
| enterpriseName | 发布公司名称                                                 |
| title          | 标题                                                         |
| salary         | 薪酬                                                         |
| degree         | 学历                                                         |
| views          | 浏览量                                                       |



**获取资讯列表**

方式：GET

URL：/employment/info

返回参数：一个列表，每个元素由下列字段组成

| 名称  | 描述     |
| ----- | -------- |
| id    | 资讯id   |
| title | 资讯标题 |



**获取单个资讯**

方式：GET

URL：/employment/info/{id}

请求参数：

| 名称 | 描述   |
| ---- | ------ |
| id   | 资讯id |

返回参数：

| 名称    | 描述   |
| ------- | ------ |
| id      | 资讯id |
| title   | 标题   |
| content | 正文   |



**查看历史聊天记录**

方式：GET

URL：/employment/talk

请求参数：

| 名称  | 描述           |
| ----- | -------------- |
| token | 已登录用户标识 |
| id    | 对方id         |

返回参数：

| 名称    | 描述                             |
| ------- | -------------------------------- |
| userId  | 招聘者id                         |
| hrId    | hr的id                           |
| time    | 发送时间                         |
| sender  | 0：发送者为招聘者；1：发送者为hr |
| message | 消息内容                         |



**获取聊天连接**

方式：webSocket连接

URL：/employment/talk

- 获取连接

  请求参数：

  | 名称  | 描述           |
  | ----- | -------------- |
  | token | 已登录用户标识 |
  | id    | 对方的id       |

- 发送消息

  请求参数：

  | 名称    | 描述     |
  | ------- | -------- |
  | message | 消息内容 |

- 关闭连接