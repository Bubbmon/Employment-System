(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Resume"],{2253:function(e,t,n){},"56ce":function(e,t,n){"use strict";n("7b87")},"6c5b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("HeaderC"),n("div",{staticClass:"resume-pane"},[n("div",{staticClass:"my-resume"},[n("h2",[e._v("我的简历")]),n("input",{staticStyle:{"margin-top":"30px"},attrs:{type:"file",id:"newResume",name:"newResume",accept:".pdf",multiple:"false"}}),n("p",{staticStyle:{"font-size":".8rem","margin-top":"10px"}},[e._v("仅限pdf")]),n("button",{staticStyle:{display:"block"},on:{click:e.upload}},[e._v("上传我的简历")]),n("button",{staticStyle:{display:"block"},on:{click:e.download}},[e._v("下载我的简历")])]),n("div",{staticClass:"resume-list",staticStyle:{"margin-top":"30px"}},[n("h2",{staticStyle:{"margin-bottom":"30px"}},[e._v("简历投递记录")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[n("el-table-column",{attrs:{prop:"positionId",label:"招聘职位id",width:"180"}}),n("el-table-column",{attrs:{prop:"enterpriseName",label:"公司名称",width:"180"}}),n("el-table-column",{attrs:{prop:"positionTitle",label:"招聘信息",width:"180"}}),n("el-table-column",{attrs:{prop:"isDealed",label:"处理状态",width:"180"}}),n("el-table-column",{attrs:{prop:"download",label:"下载"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleDownload(t.$index,t.row)}}},[e._v("下载")])]}}])})],1)],1)])],1)},o=[],i=n("1da1"),s=(n("96cf"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("6e56")),l={components:{HeaderC:s["a"]},data:function(){return{tableData:[],newResume:null,resumeStream:null,resumeTitle:null}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http({method:"get",url:"http://1.117.44.227:8088/employment/send/recruiter/all",headers:{token:e.$store.state.token.value}}).then((function(t){e.tableData=t.data.map((function(e){var t={};return t["positionId"]=e.positionId,t["enterpriseName"]=e.enterpriseName,t["positionTitle"]=e.positionTitle,1==e.dealed?t["isDealed"]="已处理":t["isDealed"]="未处理",t["download"]="下载",t}))}));case 1:case"end":return t.stop()}}),t)})))()},upload:function(){var e=document.querySelector("input");this.newResume=e.files[0];var t=new FormData;t.append("resume",this.newResume),console.log(this.newResume),console.log(this.$store.state.token),this.$http({method:"post",url:"http://1.117.44.227:8088/employment/account/resume",headers:{"Content-Type":"multipart/form-data;boundary=ebf9f03029db4c2799ae16b5428b06bd",token:this.$store.state.token.value},data:t}).then((function(e){var t=e.data.resumeResult;0==t?window.alert("上传成功！"):1==t&&window.alert("上传失败")}))},download:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$http({method:"get",url:"http://1.117.44.227:8088/employment/account/resume",headers:{token:e.$store.state.token.value},responseType:"blob"}).then((function(t){e.resumeTitle=decodeURI(t.headers["content-disposition"]).substring(20),e.resumeStream=t.data;var n=new Blob([t.data],{type:"application/pdf"}),a=decodeURI(e.resumeTitle);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(n,a);else{var o=document.createElement("a");o.href=window.URL.createObjectURL(n),o.download=a,o.click(),window.URL.revokeObjectURL(o.href)}}));case 1:case"end":return t.stop()}}),t)})))()},handleDownload:function(e,t){var n=this;console.log(t),this.$http({method:"get",url:"http://1.117.44.227:8088/employment/send/recruiter/download",headers:{token:this.$store.state.token.value,positionId:t.positionId},responseType:"blob"}).then((function(e){n.resumeTitle=decodeURI(e.headers["content-disposition"].substring(20)),n.resumeTitle=decodeURI(n.resumeTitle);var t=new Blob([e.data],{type:"application/pdf"}),a=n.resumeTitle;if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(t,a);else{var o=document.createElement("a");o.href=window.URL.createObjectURL(t),o.download=a,o.click(),window.URL.revokeObjectURL(o.href)}}))}}},r=l,c=(n("d143"),n("2877")),d=Object(c["a"])(r,a,o,!1,null,"d2a4c5a8",null);t["default"]=d.exports},"6e56":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"whole",staticStyle:{width:"100%",height:"60px"}},[n("div",{staticClass:"logo",on:{click:e.backToHome}}),n("div",{staticClass:"self-center",staticStyle:{width:"150px",height:"100%",float:"right",display:"flex"}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[e._v("个人中心")]),n("el-menu-item",{attrs:{index:"/selfCenterC"},on:{select:e.handleSelect}},[e._v("账户信息")]),n("el-menu-item",{attrs:{index:"/selfResume"},on:{select:e.handleSelect}},[e._v("简历信息")]),n("el-menu-item",{attrs:{index:"/chatListC"},on:{select:e.handleSelect}},[e._v("我的聊天")])],2)],1)],1)])},o=[],i={data:function(){return{activeIndex:"1",key:""}},methods:{handleSelect:function(e){this.$router.push(e)},backToHome:function(){this.$router.push("/searchC")}}},s=i,l=(n("56ce"),n("2877")),r=Object(l["a"])(s,a,o,!1,null,"1888791a",null);t["a"]=r.exports},"7b87":function(e,t,n){},d143:function(e,t,n){"use strict";n("2253")}}]);
//# sourceMappingURL=Resume.018cb8d2.js.map